generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider  = "postgresql"
  url       = env("SUPABASE_DATABASE_URL")
  directUrl = env("SUPABASE_DIRECT_URL")
  schemas   = ["aideniyi"]
}

model TwitterPosts {
  id                String   @id
  text              String
  createdByUsername String
  createdByUserId   String
  fullThread        String
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@schema("aideniyi")
}

model TwitterQuestions {
  id                    BigInt           @id @default(autoincrement())
  question              String
  answer                String
  context               String
  difficulty            Int
  totalAward            Int
  awardTokenType        String
  numberOfReceivers     Int
  postId                BigInt?
  createdByUsername     String?
  createdByUserId       String?
  questionPostUrl       String?
  answerPosts           TwitterAnswers[]
  winnerAnnouncementUrl String?
  createdAt             DateTime         @default(now())
  updatedAt             DateTime         @updatedAt

  @@schema("aideniyi")
}

model TwitterAnswers {
  id                    BigInt            @id @default(autoincrement())
  postId                BigInt
  createdByUsername     String
  createdByUserId       String
  createdAt             DateTime          @default(now())
  updatedAt             DateTime          @updatedAt
  passEvaluation        Boolean?
  isWinner              Boolean?
  evaluationLog         String?
  TwitterQuestion       TwitterQuestions? @relation(fields: [twitterQuestionId], references: [id])
  twitterQuestionId     BigInt?
  twitterQuestionPostId String?

  @@schema("aideniyi")
}
