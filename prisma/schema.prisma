generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema"]
}

datasource db {
  provider  = "postgresql"
  url       = env("SUPABASE_DATABASE_URL")
  directUrl = env("SUPABASE_DIRECT_URL")
  schemas   = ["aideniyi"]
}

model TwitterPosts {
  id                String   @id
  text              String
  createdByUsername String
  createdByUserId   String
  fullThread        String
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt

  @@schema("aideniyi")
}

model TwitterQuestion {
  id                    Int             @id @default(autoincrement()) @db.Integer
  question              String
  metadata              String
  totalAward            Int
  awardTokenType        String
  numberOfReceivers     Int
  questionPostId        String?
  questionPostTime      DateTime?       @default(now())
  createdByUsername     String?
  createdByUserId       String?
  questionPostUrl       String?
  answerPosts           TwitterAnswer[]
  winnerAnnouncementUrl String?
  createdAt             DateTime        @default(now())
  updatedAt             DateTime        @updatedAt

  @@schema("aideniyi")
}

model TwitterAnswer {
  id                    Int              @id @default(autoincrement()) @db.Integer
  postId                String
  postUrl               String
  postContent           String
  createdByUsername     String
  createdByUserId       String
  createdAt             DateTime         @default(now())
  updatedAt             DateTime         @updatedAt
  passEvaluation        Boolean?
  isWinner              Boolean?
  evaluationLog         String?
  TwitterQuestion       TwitterQuestion? @relation(fields: [twitterQuestionId], references: [id])
  twitterQuestionId     Int?
  twitterQuestionPostId String?

  @@schema("aideniyi")
}

model TwitterUser {
  id            String   @id
  username      String
  userId        String
  profileBanner String
  profileImage  String
  isVerified    Boolean
  createdAt     DateTime @default(now())
  updatedAt     DateTime @updatedAt

  @@schema("aideniyi")
}
